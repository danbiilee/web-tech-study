# 리덕스에서 사용되는 키워드 톺아보기

## 1. 액션(Action)
상태에 변화가 필요하게 될 때, 우리는 액션이라는 것을 발생(dispatch)시킨다. 

이 때 액션은 하나의 **객체**로 표현되는데 액션 객체는 `type` 필드를 필수적으로 가져야 하고, 그 외의 값들은 필요에 따라 추가할 수 있다. 

```js
{
  type: 'TOGGLE_VALUE'
}
```
```js
{
  type: 'CHANGE_INPUT',
  text: '안녕하세요'
}
```

## 2. 액션 생성함수(Action Creator)
액션 생성함수는 단순히 파라미터를 전달받아 액션을 만들어주는 함수이다. 

이렇게 액션 생성함수를 만들어 사용하면 컴포넌트에서 더욱 쉽게 액션을 발생시키는 게 가능해지므로, 보통 함수 앞에 `export` 키워드를 붙여 다른 파일에서 불러와 사용한다. 

```js
export const changeInput = text => ({
  type: 'CHANGE_INPUT',
  text
})
```

리덕스를 사용할 때 액션 생성함수를 사용하지 않고, 액션을 발생시킬 때마다 직접 액션 객체를 작성할 수도 있다. 


## 3. 리듀서(Reducer)
리듀서는 변화를 일으키는 함수이다. 현재 상태와 액션을 파라미터로 전달받아 새로운 상태를 만들어 반환하는데, `useReducer`를 사용할 때 작성하는 리듀서와 같은 형태를 지니고 있다. 

```js
function counter(state, action) {
  switch (action.type) {
    case 'INCREASE':
      return state + 1;
    case 'DECREASE':
      return state - 1;
    default:
      return state;
  }
}
```

단, `useReducer`에선 `default:` 부분에 `throw new Error()`로 에러를 발생시키도록 처리하는 게 일반적인 반면에, 리덕스의 리듀서에서는 기존 `state`를 그대로 반환하도록 작성해야 한다. 

리덕스를 사용할 땐 여러 개의 리듀서를 만들고, 이를 합쳐서 `루트 리듀서(Root Reducer)`를 만들 수 있다.      
(루트 리듀서 안의 작은 리듀서들은 `서브 리듀서`라 부른다.) 


## 4. 스토어(Store)
리덕스에서는 한 애플리케이션 당 하나의 스토어를 생성하게 된다. 스토어 안에는 현재 앱의 상태와 리듀서, 몇가지 내장 함수들이 들어 있다. 


## 5. 디스패치(dispatch)
디스패치는 스토어의 내장함수 중 하나로 액션을 발생시키는 함수이다. 

`dispatch(action)` 과 같이 액션을 파라미터로 전달하면서 함수를 호출 하면, 스토어가 리듀서 함수를 실행시켜 해당 액션을 처리하는 로직이 있다면 액션을 참고해 새로운 상태를 만들어 준다.  


## 6. 구독(subscribe)
구독 또한 스토어의 내장함수 중 하나로 파라미터로 함수를 전달받는다. 특정 함수를 전달해주면, 액션이 디스패치 됐을 때마다 전달한 함수가 호출된다.

보통 리액트에서 리덕스를 사용할 때 `subscribe` 함수보다는 `react-redux` 라이브러리에서 제공하는 `connect` 함수나 `useSelector` Hook을 사용해 리덕스 스토어의 상태에 구독한다. 

